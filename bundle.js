!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t){function n(e){function t(e){}function n(e){}function a(t){if(null!=r.mesh){var n=r.mesh.meshArray,a=t.target.getBoundingClientRect();r.x=t.clientX-a.left,r.y=t.clientY-a.top;var o=r.x,i=r.y;r.latitude=Math.round(1e4*(e.mapInfo.startLatitude-i*e.mapInfo.widthLongitude),4)/1e4,r.longitude=Math.round(1e4*(e.mapInfo.startLongitude+o*e.mapInfo.widthLatitude),4)/1e4,r.value=n[i][o],document.getElementById("pos").innerHTML="("+o+" , "+i+")",document.getElementById("lati").innerHTML="("+r.latitude+" , "+r.longitude+")",document.getElementById("value").innerHTML=r.value+" mm",document.getElementById("v_m1m1").innerHTML=n[i-1][o-1],document.getElementById("v_0m1").innerHTML=n[i-1][o],document.getElementById("v_p1m1").innerHTML=n[i-1][o+1],document.getElementById("v_m10").innerHTML=n[i][o-1],document.getElementById("v_00").innerHTML=n[i][o],document.getElementById("v_p10").innerHTML=n[i][o+1],document.getElementById("v_m1p1").innerHTML=n[i+1][o-1],document.getElementById("v_0p1").innerHTML=n[i+1][o],document.getElementById("v_p1p1").innerHTML=n[i+1][o+1]}}function o(e){null!=r.mesh&&(r.params.clickHandlers.forEach(function(e){e({latitude:r.latitude,longitude:r.longitude,value:r.value})}),document.getElementById("click_pos").innerHTML="("+r.x+" , "+r.y+")",document.getElementById("click_lati").innerHTML="("+r.latitude+" , "+r.longitude+")",document.getElementById("click_value").innerHTML=r.value+" mm")}var r=this;r.params=e,r.canvas=document.getElementById("mycanvas"),r.context=r.canvas.getContext("2d"),r.mesh=null,r.x=0,r.y=0,r.canvas.addEventListener("mouseover",t,!1),r.canvas.addEventListener("mouseout",n,!1),r.canvas.addEventListener("mousemove",a,!1),r.canvas.addEventListener("click",o,!1),r.drawMesh=function(e){r.mesh=e;var t=e.meshArray;r.canvas.width=t[0].length,r.canvas.height=t.length;for(var n=10,a=0,o=Array.prototype.concat.apply([],t),i=0;i<o.length;i++)n<o[i]?n=o[i]:a>o[i]&&(a=o[i]);for(var u=r.context.getImageData(0,0,r.canvas.width,r.canvas.height),d=u.width,m=u.height,s=u.data,l=0;l<m;++l)for(var c=0;c<d;++c){var p=4*(l*d+c),g=t[l][c],f=255*(g-a)/(n-a),v=255-f;s[p+0]=v,s[p+1]=v,s[p+2]=v,s[p+3]=255}r.canvas.style.display="block",document.getElementById("drop_msg").style.display="none",r.context.putImageData(u,0,0)}}e.exports=n},function(e,t,n){function a(e){function t(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}function n(t){t.stopPropagation(),t.preventDefault();var n=t.dataTransfer.files,r=n[0],i=(escape(r.name),new FileReader);i.onload=function(t){return function(t){var n=new o(i.result);a.meshes.push(n),e.createMeshHandlers.forEach(function(e){e(n)})}}(),i.readAsText(r)}var a=this;a.params=e,a.meshes=[];var r=document.getElementById(e.id);r.addEventListener("dragover",t,!1),r.addEventListener("drop",n,!1)}var o=n(4);e.exports=a},function(e,t){function n(e){var t=this;t.params=e;var n=new google.maps.LatLng(38.65,138.25),a={zoom:5,center:n,mapTypeId:google.maps.MapTypeId.ROADMAP};t.map=new google.maps.Map(document.getElementById(e.id),a),t.marker=new google.maps.Marker({position:n}),t.heatmap=null,t.setHeartMap=function(n){for(var a=n.meshArray,o=20,r=0,i=Array.prototype.concat.apply([],a),u=0;u<i.length;u++)o<i[u]?o=i[u]:r>i[u]&&(r=i[u]);for(var d=a[0].length,m=a.length,s=[],l=0;l<m;++l)for(var c=0;c<d;++c){var p=a[l][c],g=255*(p-r)/(o-r),f=e.mapInfo.startLatitude-l*e.mapInfo.widthLongitude,v=e.mapInfo.startLongitude+c*e.mapInfo.widthLatitude;0!=g&&s.push({location:new google.maps.LatLng(f,v),weight:g})}null!=t.heatmap&&t.heatmap.setMap(null),t.heatmap=new google.maps.visualization.HeatmapLayer({data:s,radius:10,maxIntensity:255,opacity:.4}),t.heatmap.setMap(t.map)},t.setMarker=function(e){var n=new google.maps.LatLng(e.latitude,e.longitude);t.map.panTo(n),t.marker.setMap(t.map),t.marker.setPosition(n)}}e.exports=n},function(e,t){e.exports={startLatitude:46.7,startLongitude:120,widthLatitude:.0625,widthLongitude:.05}},function(e,t){function n(e){function t(e){return e.split("\n").filter(function(e){return""!=e}).map(function(e){return e.split(",").filter(function(e){return""!=e})})}this.meshArray=t(e)}e.exports=n},function(e,t,n){var a=n(2),o=n(1),r=n(0),i=n(3),u=new a({id:"map_canvas",mapInfo:i}),d=new r({id:"mycanvas",mapInfo:i,moveHandlers:[],clickHandlers:[u.setMarker]});new o({id:"drop_zone",createMeshHandlers:[d.drawMesh,u.setHeartMap]})}]);